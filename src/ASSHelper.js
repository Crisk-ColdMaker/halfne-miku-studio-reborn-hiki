const japanese = require('japanese');
const asscompiler = require('ass-compiler');
const testASS = '[Script Info]\n' +
    '; Script generated by karaoke.vmoe.info\n' +
    'ScriptType: v4.00+\n' +
    'Original Timing: karaoke.vmoe.info\n' +
    'PlayResX: 1920\n' +
    'PlayResY: 1080\n' +
    '\n' +
    '\n' +
    '[Aegisub Project Garbage]\n' +
    'Audio File: \n' +
    'Video File: ?dummy:60.000000:21600:1920:1080:73:73:73:\n' +
    '\n' +
    '[V4+ Styles]\n' +
    'Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding\n' +
    'Style: K1,TakaoPGothic,80,&H00FFFFFF,&H00FFFFFF,&H00000000,&H80000000,0,0,0,0,100,100,0,0,1,4,0,1,120,30,240,1\n' +
    'Style: K2,TakaoPGothic,80,&H00FFFFFF,&H00FFFFFF,&H00000000,&H80000000,0,0,0,0,100,100,0,0,1,4,0,3,30,120,40,1\n' +
    'Style: noK,TakaoPGothic,80,&H0039FFFF,&H00FFFFFF,&H00000000,&H80000000,0,0,0,0,100,100,0,0,1,4,0,2,0,0,440,1\n' +
    '\n' +
    '[Events]\n' +
    'Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text\n' +
    'Dialogue: 0,0:00:28.44,0:00:30.59,K2,,0,0,0,karaoke,{\\pos(261,650)}{\\-A}{\\k70}{\\k8}よ{\\k8}う{\\k9}や{\\k8}く{\\k17}会|<あ{\\k17}え{\\k17}た{\\k28}ね\n' +
    'Dialogue: 0,0:00:29.64,0:00:31.96,K1,,0,0,0,karaoke,{\\pos(944,862)}{\\-A}{\\k70}{\\k16}嬉|<う{\\k16}#|<れ{\\k19}し{\\k18}い{\\k28}ね\n' +
    'Dialogue: 0,0:00:30.67,0:00:33.39,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k17}待|<ま{\\k18}ち{\\k18}遠|<ど{\\k17}#|<お{\\k18}し{\\k18}く{\\k28}て\n' +
    'Dialogue: 0,0:00:32.04,0:00:35.34,K1,,0,0,0,karaoke,{\\pos(337,862)}{\\-A}{\\k70}{\\k16}足|<あ{\\k16}#|<し{\\k19}を{\\k9}バ{\\k9}ッ{\\k9}タ{\\k9}バ{\\k18}タ{\\k20}し{\\k33}な{\\k18}が{\\k16}ら\n' +
    'Dialogue: 0,0:00:33.48,0:00:39.05,K2,,0,0,0,karaoke,{\\pos(207,439)}{\\-A}{\\k115}{\\k25}今日|<きょ{\\k26}#|<う{\\k18}楽|<た{\\k18}#|<の{\\k18}し{\\k20}み{\\k47}で\n' +
    'Dialogue: 0,0:00:33.48,0:00:39.05,K1,,0,0,0,karaoke,{\\pos(706,650)}{\\-A}{\\k338}{\\k17}寝|<ね{\\k17}れ{\\k18}な{\\k27}か{\\k25}っ{\\k19}た{\\k28}よ\n' +
    'Dialogue: 0,0:00:35.43,0:00:40.53,noK,,0,0,0,karaoke,{\\pos(544,862)}{\\-B}{\\k0}{\\k0}(オレモー!{\\k0})\n' +
    'Dialogue: 0,0:00:39.14,0:00:41.56,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k98}{\\k11}緊|<き{\\k9}#|<ん{\\k2} {\\k7}張|<ちょ{\\k7}#|<う{\\k2} {\\k9}な{\\k9}ん{\\k9}か{\\k10}し{\\k20}て{\\k29}る\n' +
    'Dialogue: 0,0:00:40.61,0:00:42.93,K1,,0,0,0,karaoke,{\\pos(809,862)}{\\-A}{\\k70}{\\k17}場|<ば{\\k17}合|<あ{\\k17}#|<い{\\k19}じゃ{\\k15}な{\\k14}い\n' +
    'Dialogue: 0,0:00:41.64,0:00:44.36,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k76}{\\k13}1|<い{\\k13}#|<っ{\\k2} {\\k20}分|<ぷ{\\k21}#|<ん{\\k2} {\\k18}1|<い{\\k16}#|<ち{\\k2}  {\\k12}秒|<びょ{\\k12}#|<う{\\k2}\n' +
    'Dialogue: 0,0:00:43.01,0:00:46.31,K1,,0,0,0,karaoke,{\\pos(396,862)}{\\-A}{\\k70}{\\k17}無|<む{\\k17}駄|<だ{\\k18}に{\\k17}な{\\k18}ん{\\k18}て{\\k20}で{\\k32}き{\\k18}な{\\k16}い\n' +
    'Dialogue: 0,0:00:44.45,0:00:47.96,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k115}{\\k26}さ{\\k27}あ{\\k18}始|<は{\\k16}#|<じ{\\k17}め{\\k18}ま{\\k33}しょ{\\k15}う\n' +
    'Dialogue: 0,0:00:46.40,0:00:50.17,K1,,0,0,0,karaoke,{\\pos(558,862)}{\\-A}{\\k143}{\\k16}君|<き{\\k16}#|<み{\\k28}も!{\\k-202} {\\-A}{\\k211}{\\k16}君|<き{\\k16}#|<み{\\k28}も!{\\k-272} {\\-A}{\\k280}{\\k16}君|<き{\\k16}#|<み{\\k28}も!\n' +
    'Dialogue: 0,0:00:48.05,0:00:50.31,noK,,0,0,0,karaoke,{\\pos(207,439)}{\\-B}{\\k0}{\\k0}(ハーイ!{\\k0} {\\-B}{\\k0}ハーイ!{\\k0})\n' +
    'Dialogue: 0,0:00:48.05,0:00:51.33,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k184}{\\k17}お{\\k18}待|<ま{\\k18}ち{\\k18}ど{\\k18}う{\\k18}さ{\\k17}ま{\\k-306} {\\-B}{\\k0}{\\k0}(ハイ!\n' +
    'Dialogue: 0,0:00:50.26,0:00:51.33,noK,,0,0,0,karaoke,{\\pos(526,862)}{\\-B}{\\k0}ハイ!{\\k0} {\\-B}{\\k0}ハイ!{\\k0} {\\-B}{\\k0}ハイ!{\\k0})\n' +
    'Dialogue: 0,0:00:50.39,0:00:54.14,K1,,0,0,0,karaoke,{\\pos(261,439)}{\\-A}{\\k70}{\\k17}手|<て{\\k18}を{\\k17}鳴|<な{\\k18}ら{\\k30}せ\n' +
    'Dialogue: 0,0:00:51.41,0:00:54.14,K2,,0,0,0,karaoke,{\\pos(625,650)}{\\-A}{\\k70}{\\k16}い{\\k18}ら{\\k17}っ{\\k19}しゃ{\\k18}い{\\k20}ま{\\k30}せ\n' +
    'Dialogue: 0,0:00:51.41,0:00:55.61,K1,,0,0,0,karaoke,{\\pos(238,862)}{\\-A}{\\k208}{\\k8}「{\\k9}好|<す{\\k17}き」{\\k17}が{\\k18}集|<あ{\\k17}#|<つ{\\k18}ま{\\k18}る{\\k17}場|<ば{\\k17}所|<しょ{\\k16}へ\n' +
    'Dialogue: 0,0:00:54.22,0:00:57.09,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k98}{\\k16}よ{\\k18}う{\\k18}こ{\\k28}そ{\\k-179} {\\-B}{\\k0}{\\k0}(フワ!{\\k0} {\\-B}{\\k0}フワ!{\\k0})\n' +
    'Dialogue: 0,0:00:55.70,0:00:59.65,K1,,0,0,0,karaoke,{\\pos(445,862)}{\\-A}{\\k70}{\\k31}日|<に{\\k26}#|<ち{\\k2} {\\k15}常|<じょ{\\k14}#|<う{\\k2} {\\k34}は{\\k18}ク{\\k18}ロ{\\k18}ー{\\k17}ク{\\k18}の{\\k17}中|<な{\\k30}#|<か\n' +
    'Dialogue: 0,0:00:57.17,0:01:01.27,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k180}{\\k17}こ{\\k8}こ{\\k9}に{\\k18}来|<き{\\k17}た{\\k18}な{\\k19}ら{\\k18}踊|<お{\\k16}#|<ど{\\k17}ら{\\k28}にゃ\n' +
    'Dialogue: 0,0:00:59.74,0:01:02.64,K1,,0,0,0,karaoke,{\\pos(841,862)}{\\-A}{\\k129}{\\k10}損|<そ{\\k16}#|<ん{\\k2}!{\\k-154} {\\-A}{\\k164}{\\k10}損|<そ{\\k16}#|<ん{\\k2}!{\\k-188} {\\-A}{\\k198}{\\k10}損|<そ{\\k16}#|<ん{\\k2}!\n' +
    'Dialogue: 0,0:01:01.36,0:01:04.01,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k17}客席|<ヒ{\\k9}#|<ト{\\k9}が{\\k9}居|<い{\\k9}よ{\\k9}う{\\k9}が{\\k18}居|<い{\\k18}ま{\\k18}い{\\k17}が\n' +
    'Dialogue: 0,0:01:02.73,0:01:05.14,K1,,0,0,0,karaoke,{\\pos(980,862)}{\\-A}{\\k70}{\\k9}関|<か{\\k9}#|<ん{\\k18}係|<け{\\k17}#|<い{\\k24}な{\\k22}い\n' +
    'Dialogue: 0,0:01:04.10,0:01:06.76,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k17}会場|<ハ{\\k9}#|<コ{\\k9}が{\\k9}大|<お{\\k8}#|<お{\\k9}き{\\k9}い{\\k9}小|<ち{\\k8}#|<い{\\k9}さ{\\k9}い{\\k18}と{\\k17}か\n' +
    'Dialogue: 0,0:01:05.22,0:01:07.88,K1,,0,0,0,karaoke,{\\pos(913,862)}{\\-A}{\\k95}{\\k17}気|<き{\\k18}に{\\k18}し{\\k23}な{\\k22}い\n' +
    'Dialogue: 0,0:01:06.84,0:01:10.42,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k35}ちゃ{\\k18}ん{\\k64}と{\\k20}見|<み{\\k34}え{\\k18}て{\\k29}る\n' +
    'Dialogue: 0,0:01:07.96,0:01:12.14,K1,,0,0,0,karaoke,{\\pos(742,862)}{\\-A}{\\k215}{\\k24}君|<き{\\k25}#|<み{\\k19}の{\\k17}サ{\\k18}イ{\\k18}リ{\\k19}ウ{\\k45}ム\n' +
    'Dialogue: 0,0:01:12.22,0:01:16.08,K2,,0,0,0,karaoke,{\\pos(207,439)}{\\-A}{\\k81}{\\k16}今|<い{\\k9}#|<ま{\\k9}は{\\k9}フ{\\k9}ー{\\k8}っ{\\k10}と{\\k18}吹|<ふ{\\k17}け{\\k17}ば\n' +
    'Dialogue: 0,0:01:12.22,0:01:16.08,K1,,0,0,0,karaoke,{\\pos(895,650)}{\\-A}{\\k201}{\\k17}飛|<と{\\k18}ぶ{\\k18}よ{\\k20}う{\\k47}な\n' +
    'Dialogue: 0,0:01:12.22,0:01:19.02,K2,,0,0,0,karaoke,{\\pos(243,862)}{\\-A}{\\k355}{\\k9}小|<ち{\\k9}#|<い{\\k8}さ{\\k9}な{\\k9}小|<ち{\\k8}#|<い{\\k9}さ{\\k12}な{\\k18}才|<さ{\\k20}#|<い{\\k27}能|<の{\\k24}#|<う{\\k36}だ{\\k33}け{\\k28}ど\n' +
    'Dialogue: 0,0:01:16.16,0:01:22.94,K1,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k231}{\\k22}私|<わ{\\k23}#|<た{\\k22}#|<し{\\k2} {\\k69}を{\\k56}推|<お{\\k18}し{\\k18}て{\\k17}く{\\k18}れ{\\k24}る{\\k45}の{\\k19}な{\\k29}ら\n' +
    'Dialogue: 0,0:01:19.11,0:01:25.85,K2,,0,0,0,karaoke,{\\pos(724,862)}{\\-A}{\\k335}{\\k16}爆|<ば{\\k34}#|<く{\\k36}レ{\\k36}ス{\\k37}を{\\k48}あ{\\k24}げ{\\k102}る\n' +
    'Dialogue: 0,0:01:25.94,0:01:29.79,K1,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k81}{\\k33}ア・{\\k35}ナ・{\\k34}タ{\\k17}の{\\k35}ア{\\k20}イ{\\k34}ド{\\k29}ル\n' +
    'Dialogue: 0,0:01:25.94,0:01:32.91,K2,,0,0,0,karaoke,{\\pos(688,862)}{\\-A}{\\k389}{\\k16}サ{\\k17}イ{\\k19}ン{\\k30}は{\\k-471} {\\-A}{\\k492}{\\k110}B|<ビ{\\k15}#|<ー{\\k2}  {\\k38}チュ{\\k19}ッ\n' +
    'Dialogue: 0,0:01:36.59,0:01:41.14,noK,,0,0,0,karaoke,{\\pos(207,650)}{\\-B}{\\k0}{\\k0}({\\k0} B|<ビー{\\k0}{\\k0} 小|<こ{\\k0}{\\k0}町|<まち{\\k0}!{\\k0} {\\-B}{\\k0}フッフー!{\\k0})\n' +
    'Dialogue: 0,0:01:36.59,0:01:43.27,K1,,0,0,0,karaoke,{\\pos(306,862)}{\\-A}{\\k386}{\\k9}あ{\\k8}い{\\k9}つ{\\k11}は{\\k18}俺|<お{\\k15}#|<れ{\\k24}が{\\k30}育|<そ{\\k16}#|<だ{\\k18}て{\\k18}た{\\k19}っ{\\k28}て\n' +
    'Dialogue: 0,0:01:41.23,0:01:44.71,K2,,0,0,0,karaoke,{\\pos(261,650)}{\\-A}{\\k146}{\\k16}近|<ち{\\k16}#|<か{\\k42}い {\\k14}将|<しょ{\\k15}#|<う{\\k2} {\\k14}来|<ら{\\k14}#|<い\n' +
    'Dialogue: 0,0:01:43.36,0:01:46.66,K1,,0,0,0,karaoke,{\\pos(580,862)}{\\-A}{\\k70}{\\k17}自|<じ{\\k17}慢|<ま{\\k18}#|<ん{\\k35}し{\\k18}て{\\k18}ほ{\\k18}し{\\k22}い{\\k34}よ\n' +
    'Dialogue: 0,0:01:44.79,0:01:48.65,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k115}{\\k26}こ{\\k26}う{\\k18}し{\\k18}ちゃ{\\k18}い{\\k20}ら{\\k32}れ{\\k20}な{\\k28}い\n' +
    'Dialogue: 0,0:01:46.74,0:01:50.51,K1,,0,0,0,karaoke,{\\pos(576,862)}{\\-A}{\\k143}{\\k16}君|<き{\\k16}#|<み{\\k28}と!{\\k-202} {\\-A}{\\k211}{\\k16}君|<き{\\k16}#|<み{\\k28}と!{\\k-272} {\\-A}{\\k280}{\\k16}今|<い{\\k16}#|<ま{\\k28}を!\n' +
    'Dialogue: 0,0:01:48.74,0:01:50.64,noK,,0,0,0,karaoke,{\\pos(207,439)}{\\-B}{\\k0}{\\k0}(ハーイ!{\\k0} {\\-B}{\\k0}ハーイ!{\\k0})\n' +
    'Dialogue: 0,0:01:48.74,0:01:51.84,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k149}{\\k16}楽|<た{\\k16}#|<の{\\k19}し{\\k35}ま{\\k17}な{\\k17}きゃ{\\k-269} {\\-B}{\\k0}{\\k0}(ハイ!\n' +
    'Dialogue: 0,0:01:50.60,0:01:51.84,noK,,0,0,0,karaoke,{\\pos(526,862)}{\\-B}{\\k0}ハイ!{\\k0} {\\-B}{\\k0}ハイ!{\\k0} {\\-B}{\\k0}ハイ!{\\k0})\n' +
    'Dialogue: 0,0:01:50.73,0:01:54.69,K1,,0,0,0,karaoke,{\\pos(315,439)}{\\-A}{\\k70}{\\k17}引|<ひ{\\k18}き{\\k18}こ{\\k20}も{\\k33}り{\\k16}も\n' +
    'Dialogue: 0,0:01:51.93,0:01:54.69,K2,,0,0,0,karaoke,{\\pos(787,650)}{\\-A}{\\k70}{\\k24}人|<ひ{\\k25}#|<と{\\k20}見知|<み{\\k18}#|<し{\\k35}り{\\k16}も\n' +
    'Dialogue: 0,0:01:51.93,0:01:57.08,K1,,0,0,0,karaoke,{\\pos(301,862)}{\\-A}{\\k207}{\\k17}普|<ふ{\\k17}段|<だ{\\k18}#|<ん{\\k19}と{\\k17}違|<ち{\\k17}#|<が{\\k20}う{\\k18}顔|<か{\\k15}#|<お{\\k18}見|<み{\\k17}せ{\\k21}て{\\k29}よ\n' +
    'Dialogue: 0,0:01:54.77,0:01:58.53,noK,,0,0,0,karaoke,{\\pos(207,439)}{\\-B}{\\k0}{\\k0}(フワ!{\\k0} {\\-B}{\\k0}フワ!{\\k0})\n' +
    'Dialogue: 0,0:01:54.77,0:01:58.53,K2,,0,0,0,karaoke,{\\pos(261,650)}{\\-A}{\\k197}{\\k17}み{\\k18}ん{\\k23}な {\\k15}兄|<きょ{\\k15}#|<う{\\k2} {\\k14}弟|<だ{\\k14}#|<い\n' +
    'Dialogue: 0,0:01:57.16,0:01:59.99,K1,,0,0,0,karaoke,{\\pos(688,862)}{\\-A}{\\k86}{\\k22}調|<ちょ{\\k21}#|<う{\\k2} {\\k18}子|<し{\\k18}ど{\\k17}う{\\k15}だ{\\k14}い\n' +
    'Dialogue: 0,0:01:58.61,0:02:01.61,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k16}な{\\k35}り{\\k17}ふ{\\k18}り{\\k17}構|<か{\\k17}#|<ま{\\k18}わ{\\k18}ず{\\k29}に\n' +
    'Dialogue: 0,0:02:00.08,0:02:02.99,K1,,0,0,0,karaoke,{\\pos(612,862)}{\\-A}{\\k129}{\\k10}そ{\\k20}う!{\\k-159} {\\-A}{\\k164}{\\k10}そ{\\k20}う!{\\k-193} {\\-A}{\\k198}{\\k10}そ{\\k20}う!\n' +
    'Dialogue: 0,0:02:01.70,0:02:04.36,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k17}他人|<ひ{\\k9}#|<と{\\k9}に{\\k9}笑|<わ{\\k8}#|<ら{\\k9}わ{\\k10}れ{\\k18}て{\\k18}い{\\k18}て{\\k16}も\n' +
    'Dialogue: 0,0:02:03.07,0:02:05.48,K1,,0,0,0,karaoke,{\\pos(980,862)}{\\-A}{\\k70}{\\k9}関|<か{\\k9}#|<ん{\\k18}係|<け{\\k17}#|<い{\\k24}な{\\k22}い\n' +
    'Dialogue: 0,0:02:04.44,0:02:07.11,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k8}周|<ま{\\k9}#|<わ{\\k9}り{\\k9}が{\\k9}ど{\\k9}う{\\k9}と{\\k10}か{\\k18}こ{\\k18}う{\\k17}と{\\k17}か\n' +
    'Dialogue: 0,0:02:05.56,0:02:08.22,K1,,0,0,0,karaoke,{\\pos(913,862)}{\\-A}{\\k95}{\\k17}気|<き{\\k18}に{\\k18}し{\\k24}な{\\k23}い\n' +
    'Dialogue: 0,0:02:07.19,0:02:10.76,K2,,0,0,0,karaoke,{\\pos(261,650)}{\\-A}{\\k70}{\\k39}主|<しゅ{\\k2} {\\k20}張|<ちょ{\\k61}#|<う{\\k2} {\\k18}強|<つ{\\k33}#|<よ{\\k17}す{\\k28}ぎ\n' +
    'Dialogue: 0,0:02:08.31,0:02:12.48,K1,,0,0,0,karaoke,{\\pos(688,862)}{\\-A}{\\k215}{\\k24}君|<き{\\k25}#|<み{\\k19}の{\\k17}サ{\\k17}イ{\\k18}リ{\\k19}ウ{\\k45}ム\n' +
    'Dialogue: 0,0:02:12.56,0:02:14.74,K2,,0,0,0,karaoke,{\\pos(261,650)}{\\-A}{\\k81}{\\k16}た{\\k9}と{\\k9}え{\\k9}世|<せ{\\k9}界|<か{\\k8}#|<い{\\k8}が\n' +
    'Dialogue: 0,0:02:12.56,0:02:16.01,K1,,0,0,0,karaoke,{\\pos(769,862)}{\\-A}{\\k158}{\\k14}私|<わ{\\k15}#|<た{\\k14}#|<し{\\k2} {\\k18}を{\\k13}拒|<こ{\\k13}#|<ば{\\k28}ん{\\k47}で\n' +
    'Dialogue: 0,0:02:14.83,0:02:17.49,K2,,0,0,0,karaoke,{\\pos(261,650)}{\\-A}{\\k129}{\\k16}ひ{\\k9}と{\\k9}り{\\k9}ぼ{\\k8}っ{\\k9}ち{\\k8}を\n' +
    'Dialogue: 0,0:02:16.10,0:02:19.36,K1,,0,0,0,karaoke,{\\pos(688,862)}{\\-A}{\\k70}{\\k16}感|<か{\\k16}#|<ん{\\k19}じ{\\k34}た{\\k18}と{\\k20}し{\\k35}て{\\k28}も\n' +
    'Dialogue: 0,0:02:17.57,0:02:23.28,K2,,0,0,0,karaoke,{\\pos(261,439)}{\\-A}{\\k112}{\\k16}ア{\\k52}ナ{\\k19}タ{\\k51}が{\\k26}味|<み{\\k44}方|<か{\\k16}#|<た{\\k16}で\n' +
    'Dialogue: 0,0:02:17.57,0:02:23.28,K1,,0,0,0,karaoke,{\\pos(773,650)}{\\-A}{\\k352}{\\k16}い{\\k18}て{\\k17}く{\\k52}れ{\\k18}た{\\k29}ら\n' +
    'Dialogue: 0,0:02:19.45,0:02:26.74,K2,,0,0,0,karaoke,{\\pos(409,862)}{\\-A}{\\k335}{\\k12}怖|<こ{\\k13}#|<わ{\\k27}い{\\k36}も{\\k34}の{\\k35}は{\\k49}な{\\k26}い{\\k102}よ\n' +
    'Dialogue: 0,0:02:34.19,0:02:38.23,noK,,0,0,0,karaoke,{\\pos(346,862)}{\\-B}{\\k0}{\\k0}({\\k0} B|<ビー{\\k0}{\\k0} 小|<こ{\\k0}{\\k0}町|<まち{\\k0}!{\\k0} {\\-B}{\\k0}フッフー!{\\k0})\n' +
    'Dialogue: 0,0:02:38.31,0:02:41.48,noK,,0,0,0,karaoke,{\\pos(346,862)}{\\-B}{\\k0}{\\k0}({\\k0} B|<ビー{\\k0}{\\k0} 小|<こ{\\k0}{\\k0}町|<まち{\\k0}!{\\k0} {\\-B}{\\k0}フッフー!{\\k0})\n' +
    'Dialogue: 0,0:02:40.27,0:02:44.36,K1,,0,0,0,karaoke,{\\pos(261,439)}{\\-A}{\\k70}{\\k17}見|<み{\\k18}て{\\k29}よ{\\k-133} {\\-A}{\\k139}{\\k17}見|<み{\\k19}て{\\k29}よ\n' +
    'Dialogue: 0,0:02:40.27,0:02:44.36,K2,,0,0,0,karaoke,{\\pos(850,650)}{\\-A}{\\k207}{\\k16}何|<な{\\k16}#|<に{\\k18}か{\\k17}始|<は{\\k18}#|<じ{\\k19}ま{\\k29}る\n' +
    'Dialogue: 0,0:02:41.56,0:02:46.45,K1,,0,0,0,karaoke,{\\pos(465,862)}{\\-A}{\\k215}{\\k16}君|<き{\\k16}#|<み{\\k36}と{\\k17}の{\\k22}物|<も{\\k22}#|<の{\\k2} {\\k14}語|<が{\\k15}#|<た{\\k15}#|<り{\\k2} {\\k28}が\n' +
    'Dialogue: 0,0:02:44.45,0:02:48.18,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k218}{\\k14}嗚|<あ{\\k14}呼|<あ{\\k-245} {\\-A}{\\k252}{\\k16}な{\\k17}ん{\\k16}て\n' +
    'Dialogue: 0,0:02:46.54,0:02:49.51,K1,,0,0,0,karaoke,{\\pos(549,862)}{\\-A}{\\k96}{\\k17}素|<す{\\k18}晴|<ば{\\k18}ら{\\k18}し{\\k18}い{\\k20}景|<け{\\k17}色|<し{\\k16}#|<き{\\k49}だ!\n' +
    'Dialogue: 0,0:02:49.59,0:02:53.73,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k218}{\\k17}客席|<ヒ{\\k9}#|<ト{\\k9}が{\\k9}居|<い{\\k8}よ{\\k9}う{\\k9}が{\\k18}居|<い{\\k18}ま{\\k17}い{\\k17}が\n' +
    'Dialogue: 0,0:02:49.59,0:02:54.85,K1,,0,0,0,karaoke,{\\pos(980,862)}{\\-A}{\\k355}{\\k8}関|<か{\\k9}#|<ん{\\k18}係|<け{\\k17}#|<い{\\k24}な{\\k23}い\n' +
    'Dialogue: 0,0:02:53.81,0:02:56.47,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k17}会場|<ハ{\\k9}#|<コ{\\k9}が{\\k9}大|<お{\\k9}#|<お{\\k9}き{\\k9}い{\\k9}小|<ち{\\k8}#|<い{\\k9}さ{\\k9}い{\\k18}と{\\k16}か\n' +
    'Dialogue: 0,0:02:54.94,0:02:57.59,K1,,0,0,0,karaoke,{\\pos(913,862)}{\\-A}{\\k96}{\\k17}気|<き{\\k18}に{\\k18}し{\\k24}な{\\k22}い\n' +
    'Dialogue: 0,0:02:56.56,0:03:00.14,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k70}{\\k35}ちゃ{\\k20}ん{\\k65}と{\\k18}見|<み{\\k34}え{\\k19}て{\\k29}る\n' +
    'Dialogue: 0,0:02:57.68,0:03:01.85,K1,,0,0,0,karaoke,{\\pos(742,862)}{\\-A}{\\k215}{\\k24}君|<き{\\k25}#|<み{\\k19}の{\\k17}サ{\\k18}イ{\\k18}リ{\\k20}ウ{\\k44}ム\n' +
    'Dialogue: 0,0:03:01.94,0:03:04.63,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k81}{\\k16}今|<い{\\k9}#|<ま{\\k9}は{\\k9}フ{\\k9}ー{\\k9}っ{\\k9}と{\\k17}吹|<ふ{\\k17}け{\\k17}ば\n' +
    'Dialogue: 0,0:03:01.94,0:03:05.82,K1,,0,0,0,karaoke,{\\pos(895,862)}{\\-A}{\\k201}{\\k17}飛|<と{\\k18}ぶ{\\k18}よ{\\k20}う{\\k47}な\n' +
    'Dialogue: 0,0:03:04.71,0:03:08.71,K2,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k78}{\\k8}小|<ち{\\k9}#|<い{\\k9}さ{\\k9}な{\\k9}小|<ち{\\k8}#|<い{\\k9}さ{\\k10}な{\\k17}才|<さ{\\k19}#|<い{\\k27}能|<の{\\k25}#|<う{\\k36}だ{\\k34}け{\\k28}ど\n' +
    'Dialogue: 0,0:03:05.91,0:03:13.36,K1,,0,0,0,karaoke,{\\pos(279,862)}{\\-A}{\\k228}{\\k22}私|<わ{\\k23}#|<た{\\k22}#|<し{\\k2} {\\k69}を{\\k56}推|<お{\\k18}し{\\k18}て{\\k17}く{\\k18}れ{\\k22}る{\\k46}の{\\k26}な{\\k102}ら\n' +
    'Dialogue: 0,0:03:11.04,0:03:18.14,K2,,0,0,0,karaoke,{\\pos(261,439)}{\\-A}{\\k250}{\\k16}ア{\\k52}ナ{\\k19}タ{\\k51}が{\\k26}味|<み{\\k44}方|<か{\\k16}#|<た{\\k16}で\n' +
    'Dialogue: 0,0:03:11.04,0:03:18.14,K1,,0,0,0,karaoke,{\\pos(773,650)}{\\-A}{\\k490}{\\k16}い{\\k18}て{\\k17}く{\\k52}れ{\\k18}た{\\k29}ら\n' +
    'Dialogue: 0,0:03:13.45,0:03:21.05,K2,,0,0,0,karaoke,{\\pos(465,862)}{\\-A}{\\k421}{\\k16}爆|<ば{\\k34}#|<く{\\k36}レ{\\k36}ス{\\k37}を{\\k48}あ{\\k24}げ{\\k102}る\n' +
    'Dialogue: 0,0:03:21.14,0:03:24.99,K1,,0,0,0,karaoke,{\\pos(207,650)}{\\-A}{\\k81}{\\k33}ア・{\\k35}ナ・{\\k34}タ{\\k17}の{\\k35}ア{\\k20}イ{\\k34}ド{\\k29}ル\n' +
    'Dialogue: 0,0:03:21.14,0:03:28.11,K2,,0,0,0,karaoke,{\\pos(688,862)}{\\-A}{\\k389}{\\k16}サ{\\k17}イ{\\k19}ン{\\k30}は{\\k-471} {\\-A}{\\k492}{\\k110}B|<ビ{\\k15}#|<ー{\\k2}  {\\k38}チュ{\\k19}ッ\n' +
    'Dialogue: 0,0:03:33.15,0:03:39.11,noK,,0,0,0,karaoke,{\\pos(474,862)}{\\-B}{\\k-591}{\\k0}(フッフッフー!{\\k0})\n'

const parsed = asscompiler.parse(testASS);
const mouthList = parsed.events.dialogue.map(dialogueLine => {
    let timeToStart = dialogueLine.Start;
    return dialogueLine.Text.parsed.map(word => {
        word.Start = timeToStart;
        if (word?.tags?.[0]?.k)
            timeToStart += word?.tags?.[0]?.k / 100
        return word;
    }).filter(word => word.text);
}).reduce((p, c) => [...p, ...c])
    .map(word => ({
        ...word,
        romanji: japanese.romanize(word.text.replace(/.*\|</, ''))
    })).filter(o => o.romanji.match(/[a-z]/)).map(word => ({
        ...word,
        keyInput: ({
            a: ['MouthAA'],
            e: ['MouthEH'],
            i: ['MouthEE'],
            o: ['MouthOH'],
            u: ['MouthOO'],
        })[word.romanji[word.romanji.length - 1]] || ['MouthMM']
    }));
debugger;